<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>school intel sim</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{
  background:#070707;
  color:#e6e6e6;
  font-family:ui-monospace, monospace;
  margin:0;
}
header{
  padding:15px;
  border-bottom:1px solid #222;
}
nav button{
  background:#111;
  border:1px solid #333;
  color:#fff;
  padding:8px 12px;
  margin-right:5px;
  cursor:pointer;
}
section{ padding:20px }
input,button{
  width:100%;
  background:#111;
  border:1px solid #333;
  color:#fff;
  padding:8px;
  margin-bottom:10px;
}
.card{
  border:1px solid #222;
  padding:15px;
  margin-bottom:12px;
  background:#0d0d0d;
}
.blur{
  filter:blur(7px);
  user-select:none;
}
.hidden{ display:none }
.small{ color:#777; font-size:12px }
.log{
  border-top:1px solid #222;
  margin-top:20px;
  padding-top:10px;
  font-size:12px;
  color:#aaa;
  word-break:break-all;
}
</style>
</head>
<body>

<header>
  <h2>school intel database</h2>
  <div class="small">offline simulation • base64 encoded datastore</div>
  <nav id="tabs" class="hidden">
    <button onclick="showTab('db')">database</button>
    <button onclick="showTab('services')">services</button>
  </nav>
</header>

<section id="unlock">
  <input id="key" placeholder="base64">
  <button onclick="unlock()">unlock</button>
</section>

<section id="db" class="hidden">
  <input id="search" placeholder="base64 search" oninput="render()">
  <div id="list"></div>
</section>

<section id="services" class="hidden">
  <h3>simulated services</h3>

  <div class="card">
    <b>buy password access</b>
    <div class="small">encoded credential request</div>
    <button onclick="requestService('password_access')">buy</button>
  </div>

  <div class="card">
    <b>guardian contact dump</b>
    <div class="small">id-based correlation</div>
    <button onclick="requestService('guardian_contact')">buy</button>
  </div>

  <h3>check if you’re breached</h3>
  <input id="breachInput" placeholder="base64">
  <button onclick="checkBreach()">check</button>
  <div id="breachResult" class="small"></div>

  <div class="log" id="logbox"></div>
</section>

<script>
const gate = btoa("u3h666");
let unlocked = false;
const outbound = [];

// every field encoded
const students = [
  {
    first:btoa("ezra"),
    last:btoa("cook"),
    school:btoa("cwl"),
    grade:btoa("8"),
    guardian:btoa("redacted"),
    address:btoa("redacted"),
    id:btoa("56431")
  },
  {
    first:btoa("thomas"),
    last:btoa("graham"),
    school:btoa("cwl"),
    grade:btoa("8"),
    guardian:btoa("redacted"),
    address:btoa("redacted"),
    id:btoa("56254")
  },
  {
    first:btoa("kinsley"),
    last:btoa("boguszewski"),
    school:btoa("ann mullen"),
    grade:btoa("7"),
    guardian:btoa("redacted"),
    address:btoa("redacted"),
    id:btoa("56847")
  }
];

function unlock(){
  if(btoa(document.getElementById("key").value) === gate){
    unlocked = true;
    document.getElementById("unlock").classList.add("hidden");
    document.getElementById("tabs").classList.remove("hidden");
    showTab("db");
    render();
  } else alert("access denied");
}

function showTab(id){
  ["db","services"].forEach(t=>{
    document.getElementById(t).classList.add("hidden");
  });
  document.getElementById(id).classList.remove("hidden");
}

function render(){
  const q = document.getElementById("search").value.toLowerCase();
  const list = document.getElementById("list");
  list.innerHTML="";

  students.forEach(s=>{
    const name = atob(s.first)+" "+atob(s.last);
    const school = atob(s.school);

    if(name.toLowerCase().includes(q) || school.includes(q)){
      const div = document.createElement("div");
      div.className="card";
      div.innerHTML=`
        <b>${name}</b><br>
        <span class="small">${school}</span><br><br>
        <div class="blur">
          grade: ${atob(s.grade)}<br>
          guardian: ${atob(s.guardian)}<br>
          address: ${atob(s.address)}<br>
          id: ${atob(s.id)}
        </div>
      `;
      list.appendChild(div);
    }
  });
}

function requestService(type){
  const payload = btoa(JSON.stringify({
    service:type,
    time:Date.now(),
    note:"simulation only"
  }));
  outbound.push(payload);
  updateLogs();
  alert("encoded request queued");
}

function updateLogs(){
  document.getElementById("logbox").innerHTML =
    "<b>outbound encoded packets</b><br>" + outbound.slice(-5).join("<br><br>");
}

function checkBreach(){
  const v = document.getElementById("breachInput").value;
  const encoded = btoa(v.toLowerCase());

  const hit = students.find(s =>
    s.id === encoded ||
    atob(s.first).toLowerCase() === v.toLowerCase() ||
    atob(s.last).toLowerCase() === v.toLowerCase()
  );

  document.getElementById("breachResult").innerText = hit
    ? "record exists in encoded dataset"
    : "no indexed exposure found";
}
</script>

</body>
</html>
