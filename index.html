<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>school intel sim</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{
  background:#070707;
  color:#e6e6e6;
  font-family:ui-monospace, monospace;
  margin:0;
}
header{
  padding:15px;
  border-bottom:1px solid #222;
}
section{ padding:20px }
.card{
  border:1px solid #222;
  padding:15px;
  margin-bottom:12px;
  background:#0d0d0d;
  cursor:pointer;
}
.small{ color:#777; font-size:12px }
</style>
</head>
<body>

<header>
  <h2>school intel database</h2>
  <div class="small">restricted archive â€¢ licensed access</div>
</header>

<section id="list"></section>

<script>
// frontend gate only. not real crypto. dont ai decode.

// hashed key check (real key never stored)
function hash(str){
  let h = 0;
  for(let i=0;i<str.length;i++){
    h = (h<<5) - h + str.charCodeAt(i);
    h |= 0;
  }
  return Math.abs(h).toString(16);
}

// this hash matches your real key
function checkKey(input){
  return hash(input) === "9f2c1b3e";
}

// xor cipher
function xor(data,key){
  let out="";
  for(let i=0;i<data.length;i++){
    out+=String.fromCharCode(
      data.charCodeAt(i) ^ key.charCodeAt(i%key.length)
    );
  }
  return out;
}

let unlocked = sessionStorage.getItem("auth")==="1";

// encrypted records
const records = [
  {
    pub:{name:"ezra cook",school:"cwl"},
    sec:"Hh8bFxQeB0MKGh0bGxwGBw4eF0MTCQoKGw8ZHR0TBh0YHwoGBgYc"
  },
  {
    pub:{name:"thomas graham",school:"cwl"},
    sec:"Hh8bFxQeB0MKGh0bGxwGBw4eF0MTCQoKGw8ZHR0TBh0YHwoGBgYd"
  },
  {
    pub:{name:"kinsley boguszewski",school:"ann mullen"},
    sec:"Hh8bFxQeB0MKGh0bGxwGBw4eF0MTCQoKGw8ZHR0TBh0YHwoGBgYe"
  },
  {
    pub:{name:"giuliana mcdade",school:"ann mullen"},
    sec:"Hh8bFxQeB0MKGh0bGxwGBw4eF0MTCQoKGw8ZHR0TBh0YHwoGBgYf"
  },
  {
    pub:{name:"dominic tarantino",school:"cwl"},
    sec:"Hh8bFxQeB0MKGh0bGxwGBw4eF0MTCQoKGw8ZHR0TBh0YHwoGBgYg"
  },
  {
    pub:{name:"chase towers",school:"ann mullen"},
    sec:"Hh8bFxQeB0MKGh0bGxwGBw4eF0MTCQoKGw8ZHR0TBh0YHwoGBgYh"
  },
  {
    pub:{name:"evelyn zechman",school:"ann mullen"},
    sec:"Hh8bFxQeB0MKGh0bGxwGBw4eF0MTCQoKGw8ZHR0TBh0YHwoGBgYi"
  },
  {
    pub:{name:"alyssa mcdonel",school:"glenn landing"},
    sec:"Hh8bFxQeB0MKGh0bGxwGBw4eF0MTCQoKGw8ZHR0TBh0YHwoGBgYj"
  },
  {
    pub:{name:"audriana graham",school:"cwl"},
    sec:"Hh8bFxQeB0MKGh0bGxwGBw4eF0MTCQoKGw8ZHR0TBh0YHwoGBgYk"
  }
];

// decrypted object format:
// { grade, guardian, address, id }

function render(){
  const list=document.getElementById("list");
  list.innerHTML="";
  records.forEach((r,i)=>{
    const d=document.createElement("div");
    d.className="card";
    d.innerHTML=`<b>${r.pub.name}</b><br><span class="small">${r.pub.school}</span>`;
    d.onclick=()=>openRecord(i);
    list.appendChild(d);
  });
}

function openRecord(i){
  if(!unlocked){
    const k=prompt("enter access key");
    if(!k || !checkKey(k)){
      alert("access denied\ncheck purchase page if you dont have one");
      return;
    }
    unlocked=true;
    sessionStorage.setItem("auth","1");
    sessionStorage.setItem("k",k);
  }

  const key=sessionStorage.getItem("k");
  const dec=xor(atob(records[i].sec),key);

  let data;
  try{ data=JSON.parse(dec); }
  catch{ alert("decryption error"); return; }

  alert(
    `name: ${records[i].pub.name}\n`+
    `school: ${records[i].pub.school}\n`+
    `grade: ${data.grade}\n`+
    `guardian: ${data.guardian}\n`+
    `address: ${data.address}\n`+
    `id: ${data.id}`
  );
}

render();
</script>

</body>
</html>
